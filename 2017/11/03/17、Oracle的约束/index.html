

<!DOCTYPE HTML>
<html>
<head>
  <meta charset="utf-8">
  <script type="text/javascript" src="http://tajs.qq.com/stats?sId=" charset="UTF-8"></script>
  <script>
	var _hmt = _hmt || [];
	(function() {
	  var hm = document.createElement("script");
	  hm.src = "//hm.baidu.com/hm.js?";
	  var s = document.getElementsByTagName("script")[0]; 
	  s.parentNode.insertBefore(hm, s);
	})();
	</script>
  
  <title>17、Oracle的约束 | xyp-hf</title>
  <meta name="author" content="xyp-hf">
  
  <meta name="description" content="HTML|CSS|HTML5|CSS3|JavaScript|JQuery|Angular.js|vue.js|React.js">
  
  
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

  <meta property="og:title" content="17、Oracle的约束"/>
  <meta property="og:site_name" content="xyp-hf"/>

  
    <meta property="og:image" content=""/>
  

  <link href="/imgs/favicon.ico" rel="icon" type="image/x-ico">
  <link rel="alternate" href="/atom.xml" title="xyp-hf" type="application/atom+xml">
  <link rel="stylesheet" href="/css/style.css" media="screen" type="text/css">
  <!--[if lt IE 9]><script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->
  <script src="//libs.baidu.com/jquery/1.8.0/jquery.min.js"></script>
</head>


<body>
  <header><div>
		
			<div id="imglogo">
				<a href="/"><img src="/imgs/logo.png" alt="xyp-hf" title="xyp-hf"/></a>
			</div>
			
			<div id="textlogo">
				<h1 class="site-name">xyp-hf</h1>
				<h2 class="blog-motto">全栈工程师</h2>
			</div>
			<nav class="animated">
				<ul>
					
						<li><a href="/">Home</a></li>
					
						<li><a href="/archives">Archives</a></li>
					
						<li><a href="/about">About</a></li>
					
					<li> <a href="/atom.xml">RSS</a> </li>
				</ul>
			</nav>			
</div>
</header>
  <div id="content" class="inner">
    <div id="main-col" class="alignleft"><div id="wrapper"><article class="post">
  
    <div class="gallery">
  <div class="photoset">
    
      <img src="">
    
  </div>
  <div class="control">
    <div class="prev"></div>
    <div class="next"></div>
  </div>
</div>
  
  <div class="post-content">
    <header class="article-info clearfix">
  <h1 itemprop="name">
	17、Oracle的约束
  </h1>
  <p class="article-author">By
    
      <a href="http://xyp-hf.github.io" title="xyp-hf">xyp-hf</a>
    </p>
  <p class="article-time">
    <time datetime="2017-11-02T17:43:53.000Z" itemprop="datePublished">2017-11-03</time>
    更新日期:<time datetime="2017-11-02T17:51:30.636Z" itemprop="dateModified">2017-11-03</time>
    
  </p>
</header>
    <div class="entry">
		
        <h2 id="约束"><a href="#约束" class="headerlink" title="约束"></a>约束</h2><h3 id="1、约束是-对数据库表中字段加的限制，有了约束之后-可以让我们的数据更加准确-和-完整。"><a href="#1、约束是-对数据库表中字段加的限制，有了约束之后-可以让我们的数据更加准确-和-完整。" class="headerlink" title="1、约束是 对数据库表中字段加的限制，有了约束之后 可以让我们的数据更加准确 和 完整。"></a>1、约束是 对数据库表中字段加的限制，有了约束之后 可以让我们的数据更加准确 和 完整。</h3><h3 id="2、约束种类"><a href="#2、约束种类" class="headerlink" title="2、约束种类"></a>2、约束种类</h3><pre><code>主键约束     primary   key          pk
       如果给表的某个字段加了主键约束 则这个字段的值 不能重复,并且字段的值不能为 null.
       一张表只能有一个主键。
唯一性约束    unique                  uk         
        如果给表的字段加了唯一性约束 则 这个字段的值不能重复。
        注意 唯一性约束 无法区分两个 null 值 
非空约束       not null                nn
        如果给表的字段增加了 非空约束  则这个字段的值不能是 null 值 
检查约束       check                   ck
        如果给表的字段增加了 检查约束  则这个字段必须符合检查条件  符合检查条件的数据
               才能进入数据库。               
外键约束       references         foreign key        fk 
</code></pre><h3 id="3、约束的实现"><a href="#3、约束的实现" class="headerlink" title="3、约束的实现"></a>3、约束的实现</h3><pre><code>列级约束:在定义表的某一列时  直接在这一列的后面加约束限制 叫列级约束。
表级约束:在定义完表的所有列之后 再选择某些列加约束限制。
</code></pre><h3 id="4、主键的列级约束实现"><a href="#4、主键的列级约束实现" class="headerlink" title="4、主键的列级约束实现"></a>4、主键的列级约束实现</h3><pre><code> 建立一张 订单表  myorder   
 id      number    pk
 oname  varchar2(30)
 create   table  myorder(
        id    number   primary  key,
        name varchar2(30) 
  );
 insert into myorder  values(1,&apos;test1&apos;);
 insert into myorder  values(1,&apos;test1&apos;)
 *
ERROR at line 1:
ORA-00001: unique constraint (SYSTEM.SYS_C007619) violated
如果不给约束起名字  则系统会自动给约束进行一个命名  保证约束的名字不重复
但是这个名字 不方便记忆  并且 不方便排错 以及以后的约束管理。
</code></pre><h3 id="5、如何给约束命名"><a href="#5、如何给约束命名" class="headerlink" title="5、如何给约束命名"></a>5、如何给约束命名</h3><pre><code>constraint    约束的名字     约束对应的英文
约束的名字构成:  表名_字段名_约束简写
------------------------------------------------------------------------------------------
drop    table   myorder;
create   table  myorder(
       id    number   constraint myorder_id_pk primary  key,
       name varchar2(30) 
 );
insert into myorder  values(1,&apos;test1&apos;);
insert into myorder  values(1,&apos;test1&apos;);
</code></pre><h3 id="6、练习"><a href="#6、练习" class="headerlink" title="6、练习"></a>6、练习</h3><pre><code>建立一张 订单表 叫 order100  
id     number     pk
ono    varchar2(30)  uk
odate  date       nn 
create  table  order100(
       id     number  constraint  order100_id_pk  primary key,
       ono  varchar2(30)  constraint  order100_ono_uk  unique,
       odate  date   constraint  order100_odate_nn  not null
);
insert into  order100 values(1,null,sysdate);
insert into  order100 values(2,null,sysdate);
</code></pre><h3 id="7、检查约束-需要把检查约束的条件写入"><a href="#7、检查约束-需要把检查约束的条件写入" class="headerlink" title="7、检查约束 需要把检查约束的条件写入()"></a>7、检查约束 需要把检查约束的条件写入()</h3><pre><code>在上面的表的基础上 加一个字段 omoney number 要求omoney 大于35 
------------------------------------------------------------------------------------------
drop   table    order100;
create  table  order100(
        id     number  constraint  order100_id_pk  primary key,
        ono  varchar2(30)  constraint  order100_ono_uk  unique,
        odate  date   constraint  order100_odate_nn  not null,
        omoney   number   constraint  order100_omoney_ck  check(omoney &gt; 35)        
 );
</code></pre><h3 id="8、主键的表级约束实现"><a href="#8、主键的表级约束实现" class="headerlink" title="8、主键的表级约束实现"></a>8、主键的表级约束实现</h3><pre><code>create   table    order200(
       id    number,
       ono   varchar2(30),
       odate  date,
       omoney   number , constraint   order200_id_pk   primary  key(id)
 );

表级约束最大的优势就在于可以做联合约束
create   table    order300(
       id    number,
       ono   varchar2(30),
       odate  date,
       omoney   number , constraint   order300_idono_pk   primary  key(id,ono)
 );    
1    &apos;a&apos;
1    &apos;b&apos;
</code></pre><h3 id="9、练习"><a href="#9、练习" class="headerlink" title="9、练习"></a>9、练习</h3><pre><code>建立一张 订单表 叫 order1001  
id     number     pk
ono    varchar2(30)  uk
odate  date       nn     列级约束 (因为不支持表级)
omoney   number    ck   要求大于35 
除了  odate之外 其它的字段需要使用 表级约束   
create table   order1001(
       id   number,
       ono    varchar2(30),
       odate   date   not null,
       omoney   number, 
       constraint   order1001_id_pk  primary  key(id),
       constraint   order1001_ono_uk  unique(ono),
       constraint   order1001_omoney_ck  check(omoney&gt;35)
 );
</code></pre>
    </div>
    <footer>
        
        
  
  <div class="tags">
    <a href="/tags/Oracle/">Oracle</a>
  </div>

		<div class="bdsharebuttonbox">
	<a href="#" class="bds_qzone" data-cmd="qzone" title="分享到QQ空间"></a>
	<a href="#" class="bds_tsina" data-cmd="tsina" title="分享到新浪微博"></a>
	<a href="#" class="bds_tqq" data-cmd="tqq" title="分享到腾讯微博"></a>
	<a href="#" class="bds_renren" data-cmd="renren" title="分享到人人网"></a>
	<a href="#" class="bds_weixin" data-cmd="weixin" title="分享到微信"></a>
	<a href="#" class="bds_fbook" data-cmd="fbook" title="分享到Facebook"></a>
	<a href="#" class="bds_twi" data-cmd="twi" title="分享到Twitter"></a>
	<a href="#" class="bds_more" data-cmd="more"></a>
	<a href="#" class="bds_count" data-cmd="count"></a>
</div>
<script>
window._bd_share_config=
{
	"common":{
		"bdSnsKey":{},
		"bdText":"",
		"bdMini":"2",
		"bdMiniList":false,
		"bdPic":"",
		"bdStyle":"0",
		"bdSize":"24"
	},
	"share":{},
	"image":{
		"viewList":["qzone","tsina","tqq","renren","weixin","fbook","twi"],
		"viewText":"分享到：",
		"viewSize":"24"
	},
	"selectShare":{
		"bdContainerClass":null,
		"bdSelectMiniList":["qzone","tsina","tqq","renren","weixin","fbook","twi"]
	}
};
with(document)0[
	(getElementsByTagName('head')[0]||body).appendChild(createElement('script')).src='http://bdimg.share.baidu.com/static/api/js/share.js?v=89860593.js?cdnversion='+~(-new Date()/36e5)
];
</script>    
        <div class="clearfix"></div>
    </footer>
  </div>
</article>

 <nav id="pagination" >
    
    <a href="/2017/11/03/18、Oracle的外键/" class="alignleft prev" title="18、Oracle的外键">18、Oracle的外键</a>
    
    
    <a href="/2017/11/03/16、Oracle中的日期类型/" class="alignright next" title="16、Oracle中的日期类型">16、Oracle中的日期类型</a>
    
    <div class="clearfix"></div>
</nav>



	
	<section id="comment">
		<!-- 多说评论框 start -->
		<div class="ds-thread" data-thread-key="2017/11/03/17、Oracle的约束/" data-title="17、Oracle的约束" data-url="http://xyp-hf.github.io/2017/11/03/17、Oracle的约束/"></div>
		<!-- 多说评论框 end -->
		<!-- 多说公共JS代码 start (一个网页只需插入一次) -->
		<script type="text/javascript">
		var duoshuoQuery = {short_name:""};
		(function() {
			var ds = document.createElement('script');
			ds.type = 'text/javascript';ds.async = true;
			ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
			ds.charset = 'UTF-8';
			(document.getElementsByTagName('head')[0] 
			 || document.getElementsByTagName('body')[0]).appendChild(ds);
		})();
		</script>
		<!-- 多说公共JS代码 end -->
	</section>
	
</div></div>
    <aside id="sidebar" class="alignright">
  <div class="search">
  <form action="//google.com/search" method="get" accept-charset="utf-8">
    <input type="search" name="q" results="0" placeholder="搜尋">
    <input type="hidden" name="q" value="site:xyp-hf.github.io">
  </form>
</div>

  

  
<div class="widget tagcloud">
  <h3 class="title">標籤雲</h3>
  <div class="entry">
    <a href="/tags/Js数组/" style="font-size: 10px;">Js数组</a> <a href="/tags/Oracle/" style="font-size: 20px;">Oracle</a> <a href="/tags/Vue-js/" style="font-size: 15px;">Vue.js</a> <a href="/tags/css/" style="font-size: 10px;">css</a> <a href="/tags/git/" style="font-size: 10px;">git</a>
  </div>
</div>


  <iframe width="100%" height="140" class="share_self"  frameborder="0" scrolling="no" src="http://widget.weibo.com/weiboshow/index.php?language=&width=0&height=550&fansRow=2&ptype=1&speed=0&skin=1&isTitle=1&noborder=1&isWeibo=0&isFans=0&uid=1923610190&verifier=6af5ad6a&colors=fafafa,fafafa,666666,0082cb,ecfbfd&dpc=1"></iframe>

  <div class="widget tag">
<h3 class="title">友情链接</h3>
<ul class="entry">
<li><a href="http://blog.csdn.net/xyphf" title="我的CSDN" target="_blank">我的CSDN</a></li>
<li><a href="https://github.com/xyp-hf" title="我的Github" target="_blank">我的Github</a></li>
<li><a href="http://blog.csdn.net/column/details/17503.html" title="Java全栈之路 技术专栏" target="_blank">Java全栈之路 技术专栏</a></li>
</ul>
</div>
</aside>
    <div class="clearfix"></div>
  </div>
  <footer id="footer"><div id="footer" >
	
	<div class="line">
		<span></span>
		<div class="author"></div>
	</div>
	
	
	<section class="info">
		<p> 欢迎来到我的Github博客空间 <br/>
			每天进步一点点, 星星之火可燎原</p>
	</section>
	 
	<div class="social-font clearfix">
		
		<a href="http://weibo.com/gushi120" target="_blank" title="weibo"></a>
		
		
		
		<a href="https://github.com/xyp-hf" target="_blank" title="github"></a>
		
		
		
		
		<a href="mailto:2766588380@qq.com" target="_blank" class="icon-email" title="Email Me"></a>
		
	</div>
		<p class="copyright">Powered by <a href="http://hexo.io" target="_blank" title="hexo">hexo</a> and Theme by <a href="https://github.com/huangjunhui/concise" target="_blank" title="Concise">Concise</a> © 2017 
		
		<a href="http://xyp-hf.github.io/about" target="_blank" title="xyp-hf">xyp-hf</a>
		
		</p>
</div>
</footer>
  <script src="//libs.baidu.com/jquery/2.0.3/jquery.min.js"></script>
<script src="/js/jquery.imagesloaded.min.js"></script>
<script src="/js/gallery.js"></script>
<script src="/js/counter.js"></script>




<link rel="stylesheet" href="/fancybox/jquery.fancybox.css" media="screen" type="text/css">
<script src="/fancybox/jquery.fancybox.pack.js"></script>
<script type="text/javascript">
(function($){
  $('.fancybox').fancybox();
})(jQuery);
</script>

<div id="totop" style="position:fixed;bottom:100px;right:10px;cursor: pointer;">
<a title="返回顶部"><img src="/imgs/scrollup.png"/></a>
</div>
<script src="/js/totop.js"></script>
<!-- mathjax config similar to math.stackexchange -->

<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    tex2jax: {
      inlineMath: [ ['$','$'], ["\\(","\\)"] ],
      processEscapes: true
    }
  });
</script>

<script type="text/x-mathjax-config">
    MathJax.Hub.Config({
      tex2jax: {
        skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
      }
    });
</script>

<script type="text/x-mathjax-config">
    MathJax.Hub.Queue(function() {
        var all = MathJax.Hub.getAllJax(), i;
        for(i=0; i < all.length; i += 1) {
            all[i].SourceElement().parentNode.className += ' has-jax';
        }
    });
</script>

<script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
</script>
</body>
</html>


