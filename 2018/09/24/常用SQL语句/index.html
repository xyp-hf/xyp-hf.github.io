

<!DOCTYPE HTML>
<html>
<head>
  <meta charset="utf-8">
  <script type="text/javascript" src="http://tajs.qq.com/stats?sId=" charset="UTF-8"></script>
  <script>
	var _hmt = _hmt || [];
	(function() {
	  var hm = document.createElement("script");
	  hm.src = "//hm.baidu.com/hm.js?";
	  var s = document.getElementsByTagName("script")[0]; 
	  s.parentNode.insertBefore(hm, s);
	})();
	</script>
  
  <title>常用SQL语句 | xyp-hf</title>
  <meta name="author" content="xyp-hf">
  
  <meta name="description" content="HTML|CSS|HTML5|CSS3|JavaScript|JQuery|Angular.js|vue.js|React.js">
  
  
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

  <meta property="og:title" content="常用SQL语句"/>
  <meta property="og:site_name" content="xyp-hf"/>

  
    <meta property="og:image" content=""/>
  

  <link href="/imgs/favicon.ico" rel="icon" type="image/x-ico">
  <link rel="alternate" href="/atom.xml" title="xyp-hf" type="application/atom+xml">
  <link rel="stylesheet" href="/css/style.css" media="screen" type="text/css">
  <!--[if lt IE 9]><script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->
  <script src="//libs.baidu.com/jquery/1.8.0/jquery.min.js"></script>
</head>


<body>
  <header><div>
		
			<div id="imglogo">
				<a href="/"><img src="/imgs/logo.png" alt="xyp-hf" title="xyp-hf"/></a>
			</div>
			
			<div id="textlogo">
				<h1 class="site-name">xyp-hf</h1>
				<h2 class="blog-motto">全栈工程师</h2>
			</div>
			<nav class="animated">
				<ul>
					
						<li><a href="/">Home</a></li>
					
						<li><a href="/archives">Archives</a></li>
					
						<li><a href="/about">About</a></li>
					
					<li> <a href="/atom.xml">RSS</a> </li>
				</ul>
			</nav>			
</div>
</header>
  <div id="content" class="inner">
    <div id="main-col" class="alignleft"><div id="wrapper"><article class="post">
  
    <div class="gallery">
  <div class="photoset">
    
      <img src="">
    
  </div>
  <div class="control">
    <div class="prev"></div>
    <div class="next"></div>
  </div>
</div>
  
  <div class="post-content">
    <header class="article-info clearfix">
  <h1 itemprop="name">
	常用SQL语句
  </h1>
  <p class="article-author">By
    
      <a href="http://xyp-hf.github.io" title="xyp-hf">xyp-hf</a>
    </p>
  <p class="article-time">
    <time datetime="2018-09-24T07:45:35.000Z" itemprop="datePublished">2018-09-24</time>
    Update date:<time datetime="2018-09-24T07:48:28.079Z" itemprop="dateModified">2018-09-24</time>
    
  </p>
</header>
    <div class="entry">
		
        <p>欢迎访问CSDN博客专栏<a href="http://blog.csdn.net/column/details/17503.html" target="_blank" rel="noopener">CSDN专栏 Java全栈之路</a>,<a href="https://github.com/xyp-hf" target="_blank" rel="noopener">Github主页</a>。</p>
<h1 id="查询语句七大部分"><a href="#查询语句七大部分" class="headerlink" title="查询语句七大部分"></a>查询语句七大部分</h1><h2 id="1、-from-子句"><a href="#1、-from-子句" class="headerlink" title="1、 from 子句"></a>1、 from 子句</h2><pre><code>select   字段名   from  表名;

sql 中的数学运算
select    salary,salary*13  from  s_emp;
字符串拼接
select  first_name  || last_name  from s_emp; 
NULL 值的处理
select salary*12,salary*12+salary*12*nvl(commission_pct,0)/100  from s_emp;
使用 排重关键字  distinct 就可以完成
select  distinct  salary from s_emp;
多字段排重   当多个字段的值都相同时 才进行去重
select  distinct id,title,salary from s_emp;
</code></pre><h2 id="2、-where-子句"><a href="#2、-where-子句" class="headerlink" title="2、 where 子句"></a>2、 where 子句</h2><pre><code>select  字段名  from  表名  where  条件;

表达闭区间的运算符    [a,b]
select  id,first_name,salary  from  s_emp where salary  between 1400 and 2500;
表达一个字段的值 出现在某个列表内
where  字段名  in  列表;
列表的表达是    (值1,值2,值3)
select  id,first_name,dept_id from s_emp where dept_id in(31,41,50);
模糊查询运算符
找出s_emp 表中 first_name 中带 a 字符的  显示   first_name
select  first_name from s_emp where first_name like &apos;%a%&apos;;
找出s_emp 表中 first_name 中 正数第二个字符是a 字符的  显示   first_name
select  first_name from s_emp where first_name like &apos;_a%&apos;;
逻辑运算符  (多条件连接)
显示 s_emp 表中 每个员工的 id  first_name  salary  要求salary 在[1400,2500] 中 
select  id,first_name,salary from  s_emp  where salary&gt;=1400 and  salary &lt;=2500;
查询s_emp 表的员工 在 31部门 或者在 41部门   或者在 50  最终显示 id  first_name dept_id
select id,first_name,dept_id from s_emp where  dept_id=31 or dept_id=41 or dept_id=50;
   非     !      not 
   对立面问题 
   =                   !=   &lt;&gt;  ^=     
   &gt;                   &lt;=
   &lt;                   &gt;= 
   between a and b             not  between  a  and  b 
   in                  not  in     ( where  id  not in (1,3,5)   id!=1  and id!=3 and id!=5)
   like               not  like    
   is null           is  not null  

   除了 is null  之外 其它的运算符 都要注意null 值问题 
</code></pre><h2 id="3、-order-by-子句-排序"><a href="#3、-order-by-子句-排序" class="headerlink" title="3、 order by 子句 排序"></a>3、 order by 子句 排序</h2><pre><code>select  字段   from  表名  where 条件  order by 排序标准  排序方式;
</code></pre><h2 id="4、-单行函数"><a href="#4、-单行函数" class="headerlink" title="4、 单行函数"></a>4、 单行函数</h2><pre><code>单行函数:
        针对sql语句影响的每一行 都做处理 并且针对每一行都返回一个结果。
        sql语句影响多少行就返回多少个结果
upper(par1)    变大写
lower(par1)    变小写
initcap(par1)  每个单词首字母变大写
length(par1)   求长度    
concat(par1,par2)  连接两个字符串
nvl(par1,par2)   nvl 可以处理任何类型  要求par1 和 par2 类型保持一致

substr(par1,par2,par3)
par1  要处理的字符串或者字段 
par2  截取的位置   编号从  1 开始      可以是负数  -1 代表最后一个字符  
par3  截取的长度 

replace(par1,par2,par3)
par1 要处理的字符串  par2  被替换的内容    par3 替换成什么

组函数:
        针对sql语句影响的所有行 只返回一个结果。
        无论sql影响多少行  只返回一个结果。
round(par1,par2)    四舍五入函数
par1  要处理的数字     par2 处理的精度  默认是 0 可以省略
trunc(par1,par2)   截取函数 
par1  要处理的数字     par2 处理的精度  默认是 0 可以省略
</code></pre><h2 id="5、-多表查询"><a href="#5、-多表查询" class="headerlink" title="5、 多表查询"></a>5、 多表查询</h2><pre><code>select 表1别名.字段1，表2别名.字段2 from 表1 表1别名,表2 表2别名 where 表1别名.id=表2别名.id;

 等值连接:
        使用等号作为表的连接条件 叫等值连接
 非等值连接:
       不使用等号作为表的连接条件  叫非等值连接 
grade     工资级别
     losal    级别对应的低工资
     hisal       级别对应的高工资
     显示每个员工的 id   salary  和 对应的工资级别  
select id,salary,grade
      from  s_emp , salgrade 
              where  salary   between losal  and hisal;
自连接
找出所有的领导
select  distinct  m.id,m.first_name   
         from  s_emp  e,s_emp  m
                 where  e.manager_id = m.id;
内连接的特点 符合连接条件的数据 被选中   不符合连接条件的数据被过滤掉
select distinct  m.id,m.first_name
     from  s_emp  e,s_emp  m
             where  e.manager_id(+) = m.id and e.manager_id is  null;

SQL99标准
sql99 的内连接标准
from  a表  join  b 表  on  表的连接条件  where  过滤条件;
from  a表   inner join  b 表  on  表的连接条件  where  过滤条件;
select   d.name,r.name         
          from s_dept d,s_region  r  
                  where  d.region_id =  r.id;
select   d.name,r.name         
          from s_dept d  join  s_region  r  
                 on  d.region_id =  r.id;
select   d.name,r.name         
          from s_dept d  inner  join  s_region  r  
                 on  d.region_id =  r.id;
sql99 外连接标准
a 表   left outer join  b 表   on  连接条件  where  过滤条件;
a 表   right outer join b表  on   连接条件  where  过滤条件;
a 表   full   outer  join  b表   on 连接条件  where 过滤条件;    把一个函数的返回值  作为另一个函数参数 

左外连接
a 表   left outer join  b 表 的意思就是  a 表发起连接,
a表发起连接就代表a表全部被匹配出来。
显示每个部门的名字 和 对应的地区的名字  没有地区编号的部门也要显示
select  d.name,r.name            
     from    s_dept d,s_region r  
              where d.region_id = r.id(+);

select  d.name,r.name            
     from    s_dept d  left outer join  s_region r  
             on d.region_id = r.id;

组函数
  count(par1)  统计数据的个数
  max(par1)    统计最大值
  min(par1)    统计最小值 
  avg(par1)     统计平均值
  sum(par1)    统计和

分组
按照一定的标准  把数据分成若干部分
select  字段       
       from  表名 
               where  条件  
                       group  by  分组标准    having   组函数的过滤条件
                               order  by  排序标准 排序方式;
按照部门编号分组 统计每个部门的工资和部门的名字   显示工资和大于3000的部门
 select     dept_id,sum(salary),max(name)
         from  s_emp,s_dept where dept_id = s_dept.id  
                 group by  dept_id   having  sum(salary) &gt; 3000; 
</code></pre><h1 id="DDL-data-define-language-数据定义语言"><a href="#DDL-data-define-language-数据定义语言" class="headerlink" title="DDL (data define language 数据定义语言)"></a>DDL (data define language 数据定义语言)</h1><h2 id="1、建表"><a href="#1、建表" class="headerlink" title="1、建表"></a>1、建表</h2><pre><code>create table 表名(
    字段名1  类型,
    字段名2  类型,
    字段名3  类型
);

类型: 
number 数字类型
varchar2(n) 变长字符串类型
char(n) 定长字符串
data 日期类型
</code></pre><h2 id="2、删表"><a href="#2、删表" class="headerlink" title="2、删表"></a>2、删表</h2><pre><code>drop table 表名;
</code></pre><h2 id="3、改表-Oracle不加column-）"><a href="#3、改表-Oracle不加column-）" class="headerlink" title="3、改表(Oracle不加column,）"></a>3、改表(Oracle不加column,）</h2><h3 id="删除某个字段"><a href="#删除某个字段" class="headerlink" title="删除某个字段"></a>删除某个字段</h3><pre><code>alter table 表名 drop column 字段名;
</code></pre><h3 id="增加一个字段"><a href="#增加一个字段" class="headerlink" title="增加一个字段"></a>增加一个字段</h3><pre><code>alter table 表名 add column 字段名 类型;
</code></pre><h1 id="1、DML-data-manipulation-language-数据库操作语言"><a href="#1、DML-data-manipulation-language-数据库操作语言" class="headerlink" title="1、DML(data manipulation language 数据库操作语言)"></a>1、DML(data manipulation language 数据库操作语言)</h1><h2 id="1-1-插入语句-insert-into"><a href="#1-1-插入语句-insert-into" class="headerlink" title="1.1 插入语句 insert into"></a>1.1 插入语句 insert into</h2><h3 id="1-1-1-全字段插入-插入数据的顺序和-desc表名之后的顺序相同"><a href="#1-1-1-全字段插入-插入数据的顺序和-desc表名之后的顺序相同" class="headerlink" title="1.1.1 全字段插入 插入数据的顺序和 desc表名之后的顺序相同"></a>1.1.1 全字段插入 插入数据的顺序和 desc表名之后的顺序相同</h3><pre><code>insert into 表名 values(值1,值2,值3);
注意: 数字类型可以直接写 字符串类型的值应该使用单引号 值如果可以为null 则可以使用null
insert into sstudent100 values(1,&apos;zhangsan&apos;,&apos;201700011&apos;,null);
commit;
</code></pre><h3 id="1-1-2-选择部分字段插入"><a href="#1-1-2-选择部分字段插入" class="headerlink" title="1.1.2 选择部分字段插入"></a>1.1.2 选择部分字段插入</h3><pre><code>没有选择的字段 默认为null 这就要求大家必须包含所有的非空字段
insert into 表名(字段名1,字段名3) values(值1,值3);
commit;
</code></pre><h2 id="1-2-删除语法"><a href="#1-2-删除语法" class="headerlink" title="1.2 删除语法"></a>1.2 删除语法</h2><pre><code>delete from 表名 where 条件;
commit;
</code></pre><h2 id="1-3-修改数据"><a href="#1-3-修改数据" class="headerlink" title="1.3 修改数据"></a>1.3 修改数据</h2><pre><code>update 表名 set 字段名=值 where 条件;
update 表名 set 字段名=值,字段名2=值2 where 条件;
commit;
</code></pre><h1 id="2、TCL-transaction-control-language-事务控制语句"><a href="#2、TCL-transaction-control-language-事务控制语句" class="headerlink" title="2、TCL(transaction control language 事务控制语句)"></a>2、TCL(transaction control language 事务控制语句)</h1><h2 id="2-1-事务的概念"><a href="#2-1-事务的概念" class="headerlink" title="2.1 事务的概念"></a>2.1 事务的概念</h2><pre><code>事务又叫交易 开发中希望把多个sql操作 看成一个逻辑整体 这些sql要求同时成功或者同时失败.
</code></pre><h2 id="2-2-举例"><a href="#2-2-举例" class="headerlink" title="2.2 举例"></a>2.2 举例</h2><p>银行转账</p>
<h2 id="2-3-可以完成一个事务的语句"><a href="#2-3-可以完成一个事务的语句" class="headerlink" title="2.3 可以完成一个事务的语句"></a>2.3 可以完成一个事务的语句</h2><pre><code>commit; 提交 确认
rollback; 回滚 撤销
</code></pre><h2 id="2-4-事务四大特性"><a href="#2-4-事务四大特性" class="headerlink" title="2.4 事务四大特性"></a>2.4 事务四大特性</h2><pre><code>原子性 事务中的语句是一个逻辑整体不可分割
一致性 同时成功 同时失败 状态要保持一致
隔离性 一个事务中的操作 在没有提交之前 数据的变化 对另外一个事务而言不可见。
持久性 状态的持久
</code></pre><h2 id="2-5-保存点"><a href="#2-5-保存点" class="headerlink" title="2.5 保存点"></a>2.5 保存点</h2><pre><code>引入它就是为了打破事务的原子性
insert into student100 values(1,&apos;test1&apos;,&apos;111&apos;,&apos;sysdate&apos;);
savepoint a;
insert into student100 values(2,&apos;test2&apos;,&apos;222&apos;,&apos;sysdate&apos;);
savepoint b;
insert into student100 values(3,&apos;test3&apos;,&apos;333&apos;,&apos;sysdate&apos;);
rollback to b;
commit;
</code></pre><h1 id="3、日期类型-date"><a href="#3、日期类型-date" class="headerlink" title="3、日期类型 date"></a>3、日期类型 date</h1><h2 id="3-1-默认的日期类型"><a href="#3-1-默认的日期类型" class="headerlink" title="3.1 默认的日期类型"></a>3.1 默认的日期类型</h2><pre><code> dd-MON-yy
表现默认是两位年 实际上存储了 四位
</code></pre><h2 id="3-2-显示-s-emp表中的数据-按照入职日期排序-显示id-first-name-start-date"><a href="#3-2-显示-s-emp表中的数据-按照入职日期排序-显示id-first-name-start-date" class="headerlink" title="3.2 显示 s_emp表中的数据 按照入职日期排序 显示id first_name start_date"></a>3.2 显示 s_emp表中的数据 按照入职日期排序 显示id first_name start_date</h2><pre><code>select id,first_name,start_date from s_emp order by start_date;
</code></pre><h2 id="3-3-如何按照指定格式-显示日期"><a href="#3-3-如何按照指定格式-显示日期" class="headerlink" title="3.3 如何按照指定格式 显示日期"></a>3.3 如何按照指定格式 显示日期</h2><pre><code>par2 日期格式 日期格式
yyyy 四位年 mm 月 dd日
hh 12小时制 hh24 24小时制 mi 分钟  ss 秒
day 星期几 MON 英文月的缩写 month 英文月的全写

select   id,first_name,to_char(start_date,&apos;yyyy-mm-dd hh24:mi:ss&apos;)  start_date from s_emp  order by start_date;
</code></pre><h2 id="3-4-如何插入一个日期"><a href="#3-4-如何插入一个日期" class="headerlink" title="3.4 如何插入一个日期"></a>3.4 如何插入一个日期</h2><pre><code>之前学过 null 和 sysdate sysdate 代表系统时间
如何插入未来的时间 或者 过去的时间点
2008-08-08 20:08:10
insert into student100(id,sdate) values(3,&apos;08_AUG-08&apos;);
默认只能放入 年 月 日，时分秒信息是 0
如果需要时分秒信息 则使用 to_date就可以了
to_date(par1,par2) par1是一个日期字符串 par2 是日期的格式
insert into student100(id,sdate) values(4,to_date(&apos;2008-08-08 20:08:08&apos;,&apos;yyyy=mm-dd hh24:mi:ss&apos;));
2012-12-22 23:59:59
</code></pre><h2 id="3-5-日期的调整"><a href="#3-5-日期的调整" class="headerlink" title="3.5 日期的调整"></a>3.5 日期的调整</h2><pre><code>select to_char(sysdate,&apos;yyyy=mm-dd hh24:mi:ss&apos;) from dual;
调整一天 默认按照天为单位
select to_char(sysdate,&apos;yyyy-mm-dd hh24:mi:ss&apos;),
        to_char(sysdate+1,&apos;yyyy-mm-dd hh24:mi:ss&apos;) from dual;

调整一个小时的一半(半个小时) 默认按照天为单位
select to_char(sysdate,&apos;yyyy-mm-dd hh24:mi:ss&apos;),
        to_char(sysdate+1/(24*2),&apos;yyyy-mm-dd hh24:mi:ss&apos;) from dual;
将时间向前调半个小时
select to_char(sysdate,&apos;yyyy-mm-dd hh24:mi:ss&apos;)
        to_char(sysdate-1/(24*2),&apos;yyyy-mm-dd hh24:mi:ss&apos;) from dual;
</code></pre><p>`</p>
<h2 id="3-6-特俗的单位调整"><a href="#3-6-特俗的单位调整" class="headerlink" title="3.6 特俗的单位调整"></a>3.6 特俗的单位调整</h2><pre><code>按照月为单位调整
add_months(par1,par2) par1 要调整的日期 par2 调整的月数 可以是负数

select  to_char(sysdate,&apos;yyyy-mm-dd hh24:mi:ss&apos;),
                 to_char(add_months(sysdate,1),&apos;yyyy-mm-dd hh24:mi:ss&apos;) from dual;                                      
select  to_char(sysdate,&apos;yyyy-mm-dd hh24:mi:ss&apos;),
                 to_char(add_months(sysdate,-1),&apos;yyyy-mm-dd hh24:mi:ss&apos;) from dual;

对日期进行 截取
select  to_char(sysdate,&apos;yyyy-mm-dd hh24:mi:ss&apos;),
                 to_char(trunc(sysdate),&apos;yyyy-mm-dd hh24:mi:ss&apos;) from dual;  
select  to_char(sysdate,&apos;yyyy-mm-dd hh24:mi:ss&apos;),
                 to_char(round(sysdate),&apos;yyyy-mm-dd hh24:mi:ss&apos;) from dual;  
select  to_char(sysdate,&apos;yyyy-mm-dd hh24:mi:ss&apos;),
                 to_char(trunc(sysdate,&apos;hh&apos;),&apos;yyyy-mm-dd hh24:mi:ss&apos;) from dual; 
select  to_char(sysdate,&apos;yyyy-mm-dd hh24:mi:ss&apos;),
                 to_char(trunc(sysdate,&apos;mm&apos;),&apos;yyyy-mm-dd hh24:mi:ss&apos;) from dual; 
select  to_char(sysdate,&apos;yyyy-mm-dd hh24:mi:ss&apos;),
                 to_char(trunc(sysdate,&apos;yy&apos;),&apos;yyyy-mm-dd hh24:mi:ss&apos;) from dual; 
</code></pre><h2 id="3-7-给你一个时间-获取到这个时间对应的月的最后一天的最后一秒对应的时间点"><a href="#3-7-给你一个时间-获取到这个时间对应的月的最后一天的最后一秒对应的时间点" class="headerlink" title="3.7 给你一个时间 获取到这个时间对应的月的最后一天的最后一秒对应的时间点"></a>3.7 给你一个时间 获取到这个时间对应的月的最后一天的最后一秒对应的时间点</h2><pre><code>select to_char(add_months(trunc(sysdate,&apos;mm&apos;),1)-1/(24*60*60),&apos;yyyy-mm-dd hh24:mi:ss&apos;) from dual;
</code></pre><h1 id="4、约束"><a href="#4、约束" class="headerlink" title="4、约束"></a>4、约束</h1><h2 id="4-1-概念"><a href="#4-1-概念" class="headerlink" title="4.1 概念"></a>4.1 概念</h2><pre><code>约束是 对数据库表中字段加的限制,有了约束之后 可以让我们的数据更加准确 和 完整。
</code></pre><h2 id="4-2-约束种类"><a href="#4-2-约束种类" class="headerlink" title="4.2 约束种类"></a>4.2 约束种类</h2><pre><code>主键约束 primary key pk
如果给表的某个字段加了约束 则这个字段的值 不能重复,并且字段的值不能位null.一张表只能有一个主键.

唯一性约束 unique uk
如果给表的字段加了唯一性约束 则 这个字段的值不能重复
注意 唯一性约束 无法区分两个 null 值

非空约束 not null nn
如果给表的字段增加了 非空约束 则这个字段的值不能是 null 值

检查约束 check ck
如果给表的字段增加了 检查约束 则这个字段必须符合检查条件 符合检查条件的数据 才能进入数据库.

外键约束 references  foreign key
</code></pre><h2 id="4-3-约束的实现"><a href="#4-3-约束的实现" class="headerlink" title="4.3 约束的实现"></a>4.3 约束的实现</h2><pre><code>列级约束: 在定义表的某一列时 直接在这一列的后面加约束限制叫列级约束.
表级约束: 在定义完美的所有列之后 再选择某些列加约束限制.
</code></pre><h2 id="4-4-主键的列级约束实现"><a href="#4-4-主键的列级约束实现" class="headerlink" title="4.4 主键的列级约束实现"></a>4.4 主键的列级约束实现</h2><pre><code>id number pk
oname varchar2(30)
create table myorder(
    id number primary key,
    name varchar2(30)
);    

如果不给约束起名字 则系统会自动给约束进行一个命名 保证约束的名字不重复
但是这个名字 不方便记忆 并且 不方便排错 以及以后的约束管理。
</code></pre><h2 id="4-5-如何给约束命名"><a href="#4-5-如何给约束命名" class="headerlink" title="4.5 如何给约束命名"></a>4.5 如何给约束命名</h2><pre><code>constraint 约束的名字 约束对应的英文
约束的名字构成: 表名_字段名_约束简写

drop table myorder;
create table myorder(
    id number constraint myorder_id_pk primary key,
    name varchar2(30)
);
insert into myorder values(1,&apos;test1&apos;);
insert into myorder values(1,&apos;test1&apos;);
  *
 ERROR at line 1:
 ORA-00001: unique constraint (SYSTEM.MYORDER_ID_PK) violated
</code></pre><h2 id="4-6-练习"><a href="#4-6-练习" class="headerlink" title="4.6 练习"></a>4.6 练习</h2><pre><code>建立一张 订单表 叫order100
id number pk
ono varchar2(30) uk
odate date nn
create table order100(
    id number constraint order100_id_pk primary key,
    ono varchar2(30) constraint order100_ono_uk unique,
    odate date constraint order100_odate_nn not null
);
insert into order100 values(1,null,sysdate);
insert into order100 values(2,null,sysdate);
</code></pre><h2 id="检查约束"><a href="#检查约束" class="headerlink" title="检查约束"></a>检查约束</h2><pre><code>在上面的基础上 加一个字段 omoney number 要求omoney 大于35
drop   table    order100;
create  table  order100(
        id     number  constraint  order100_id_pk  primary key,
        ono  varchar2(30)  constraint  order100_ono_uk  unique,
        odate  date   constraint  order100_odate_nn  not null,
           omoney number constraint order100_omoney_ck check(omoney&gt;35)     
 );
</code></pre><h2 id="4-8-主键的表级约约束实现"><a href="#4-8-主键的表级约约束实现" class="headerlink" title="4.8 主键的表级约约束实现"></a>4.8 主键的表级约约束实现</h2><pre><code>create table order200(
    id number,
    ono varchar2(30),
    odate date,
    omoney number,constraint order200_id_pk primary key(id)
);

联合主键,表级约束最大的优势就是可以做联合约束(主键)
create table order300(
    id number,
    ono varchar2(30),
    odate date,
    omoney number,constraint order300_idono_pk primary key(id,pno)
);
</code></pre><h2 id="4-9-练习"><a href="#4-9-练习" class="headerlink" title="4.9 练习"></a>4.9 练习</h2><pre><code>建立一张表 订单表 叫order1001
id number pk
ono varchar2(30) uk
odate date nn 列级约束(因为不支持表级)
除了odate 之外 其他的字段需要使用 表级约束

create odate order1001(
    id number,
    ono varchar2(30),
    odate date not null,
    omoney number,
        constraint order1001_id_pk primary key(id),
        constraint order1001_ono_uk unique(ono),
        constraint order1001_omoney_ck check(omoney&gt;35)
);
</code></pre>
    </div>
    <footer>
        
  
  <div class="categories">
    <a href="/categories/SQL/">SQL</a>
  </div>

        
  
  <div class="tags">
    <a href="/tags/SQL/">SQL</a>
  </div>

		<div class="bdsharebuttonbox">
	<a href="#" class="bds_qzone" data-cmd="qzone" title="分享到QQ空间"></a>
	<a href="#" class="bds_tsina" data-cmd="tsina" title="分享到新浪微博"></a>
	<a href="#" class="bds_tqq" data-cmd="tqq" title="分享到腾讯微博"></a>
	<a href="#" class="bds_renren" data-cmd="renren" title="分享到人人网"></a>
	<a href="#" class="bds_weixin" data-cmd="weixin" title="分享到微信"></a>
	<a href="#" class="bds_fbook" data-cmd="fbook" title="分享到Facebook"></a>
	<a href="#" class="bds_twi" data-cmd="twi" title="分享到Twitter"></a>
	<a href="#" class="bds_more" data-cmd="more"></a>
	<a href="#" class="bds_count" data-cmd="count"></a>
</div>
<script>
window._bd_share_config=
{
	"common":{
		"bdSnsKey":{},
		"bdText":"",
		"bdMini":"2",
		"bdMiniList":false,
		"bdPic":"",
		"bdStyle":"0",
		"bdSize":"24"
	},
	"share":{},
	"image":{
		"viewList":["qzone","tsina","tqq","renren","weixin","fbook","twi"],
		"viewText":"分享到：",
		"viewSize":"24"
	},
	"selectShare":{
		"bdContainerClass":null,
		"bdSelectMiniList":["qzone","tsina","tqq","renren","weixin","fbook","twi"]
	}
};
with(document)0[
	(getElementsByTagName('head')[0]||body).appendChild(createElement('script')).src='http://bdimg.share.baidu.com/static/api/js/share.js?v=89860593.js?cdnversion='+~(-new Date()/36e5)
];
</script>    
        <div class="clearfix"></div>
    </footer>
  </div>
</article>

 <nav id="pagination" >
    
    
    <a href="/2018/09/18/Set接口-特性-元素没有先后顺序且不允许重复/" class="alignright next" title="Set接口 特性:元素没有先后顺序且不允许重复">Set接口 特性:元素没有先后顺序且不允许重复</a>
    
    <div class="clearfix"></div>
</nav>



	
	<section id="comment">
		<!-- 多说评论框 start -->
		<div class="ds-thread" data-thread-key="2018/09/24/常用SQL语句/" data-title="常用SQL语句" data-url="http://xyp-hf.github.io/2018/09/24/常用SQL语句/"></div>
		<!-- 多说评论框 end -->
		<!-- 多说公共JS代码 start (一个网页只需插入一次) -->
		<script type="text/javascript">
		var duoshuoQuery = {short_name:""};
		(function() {
			var ds = document.createElement('script');
			ds.type = 'text/javascript';ds.async = true;
			ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
			ds.charset = 'UTF-8';
			(document.getElementsByTagName('head')[0] 
			 || document.getElementsByTagName('body')[0]).appendChild(ds);
		})();
		</script>
		<!-- 多说公共JS代码 end -->
	</section>
	
</div></div>
    <aside id="sidebar" class="alignright">
  <div class="search">
  <form action="//google.com/search" method="get" accept-charset="utf-8">
    <input type="search" name="q" results="0" placeholder="Search">
    <input type="hidden" name="q" value="site:xyp-hf.github.io">
  </form>
</div>

  
<div class="widget tag">
  <h3 class="title">Categories</h3>
  <ul class="entry">
  
    <li><a href="/categories/JAVA/">JAVA</a><small>6</small></li>
  
    <li><a href="/categories/SQL/">SQL</a><small>1</small></li>
  
  </ul>
</div>


  
<div class="widget tagcloud">
  <h3 class="title">Tag Cloud</h3>
  <div class="entry">
    <a href="/tags/Js数组/" style="font-size: 10px;">Js数组</a> <a href="/tags/Oracle/" style="font-size: 20px;">Oracle</a> <a href="/tags/PLSQL/" style="font-size: 17.5px;">PLSQL</a> <a href="/tags/SQL/" style="font-size: 10px;">SQL</a> <a href="/tags/Vue-js/" style="font-size: 15px;">Vue.js</a> <a href="/tags/css/" style="font-size: 10px;">css</a> <a href="/tags/git/" style="font-size: 10px;">git</a> <a href="/tags/jQuery/" style="font-size: 10px;">jQuery</a> <a href="/tags/socket/" style="font-size: 10px;">socket</a> <a href="/tags/集合/" style="font-size: 12.5px;">集合</a>
  </div>
</div>


  <iframe width="100%" height="140" class="share_self"  frameborder="0" scrolling="no" src="http://widget.weibo.com/weiboshow/index.php?language=&width=0&height=550&fansRow=2&ptype=1&speed=0&skin=1&isTitle=1&noborder=1&isWeibo=0&isFans=0&uid=1811639345&verifier=6af5ad6a&colors=fafafa,fafafa,666666,0082cb,ecfbfd&dpc=1"></iframe>

  <div class="widget tag">
<h3 class="title">友情链接</h3>
<ul class="entry">
<li><a href="http://blog.csdn.net/xyphf" title="我的CSDN" target="_blank">我的CSDN</a></li>
<li><a href="https://github.com/xyp-hf" title="我的Github" target="_blank">我的Github</a></li>
<li><a href="http://blog.csdn.net/column/details/17503.html" title="Java全栈之路 技术专栏" target="_blank">Java全栈之路 技术专栏</a></li>
</ul>
</div>
</aside>
    <div class="clearfix"></div>
  </div>
  <footer id="footer"><div id="footer" >
	
	<div class="line">
		<span></span>
		<div class="author"></div>
	</div>
	
	
	<section class="info">
		<p> 欢迎来到我的Github博客空间 <br/>
			每天进步一点点, 星星之火可燎原</p>
	</section>
	 
	<div class="social-font clearfix">
		
		<a href="http://weibo.com/gushi120" target="_blank" title="weibo"></a>
		
		
		
		<a href="https://github.com/xyp-hf" target="_blank" title="github"></a>
		
		
		
		
		<a href="mailto:2766588380@qq.com" target="_blank" class="icon-email" title="Email Me"></a>
		
	</div>
		<p class="copyright">Powered by <a href="http://hexo.io" target="_blank" title="hexo">hexo</a> and Theme by <a href="https://github.com/huangjunhui/concise" target="_blank" title="Concise">Concise</a> © 2018 
		
		<a href="http://xyp-hf.github.io/about" target="_blank" title="xyp-hf">xyp-hf</a>
		
		</p>
</div>
</footer>
  <script src="//libs.baidu.com/jquery/2.0.3/jquery.min.js"></script>
<script src="/js/jquery.imagesloaded.min.js"></script>
<script src="/js/gallery.js"></script>
<script src="/js/counter.js"></script>




<link rel="stylesheet" href="/fancybox/jquery.fancybox.css" media="screen" type="text/css">
<script src="/fancybox/jquery.fancybox.pack.js"></script>
<script type="text/javascript">
(function($){
  $('.fancybox').fancybox();
})(jQuery);
</script>

<div id="totop" style="position:fixed;bottom:100px;right:10px;cursor: pointer;">
<a title="返回顶部"><img src="/imgs/scrollup.png"/></a>
</div>
<script src="/js/totop.js"></script>
<!-- mathjax config similar to math.stackexchange -->

<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    tex2jax: {
      inlineMath: [ ['$','$'], ["\\(","\\)"] ],
      processEscapes: true
    }
  });
</script>

<script type="text/x-mathjax-config">
    MathJax.Hub.Config({
      tex2jax: {
        skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
      }
    });
</script>

<script type="text/x-mathjax-config">
    MathJax.Hub.Queue(function() {
        var all = MathJax.Hub.getAllJax(), i;
        for(i=0; i < all.length; i += 1) {
            all[i].SourceElement().parentNode.className += ' has-jax';
        }
    });
</script>

<script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
</script>
</body>
</html>


